@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.Title = "Form Input Iuran";
}
@if (TempData["Error"] != null)
{
    <div class="alert alert-danger">@TempData["Error"]</div>
}

@if (TempData["Success"] != null)
{
    <div class="alert alert-success">@TempData["Success"]</div>
}

<!-- Topbar -->
<!-- Begin Page Content -->
<div class="container-fluid">



    <!-- Content Row -->
        <div class="container-fluid">
            <!-- Page Heading -->
            <div class="card shadow-lg border-0 rounded-4">
                <div class="card-header bg-primary text-white rounded-top-4">
                    <h3 class="mb-4">Daftar Pengajuan Surat</h3>
                </div>
                <div class="card-body px-4 py-4">
                    <div class="row" id="card-container">
                        <!-- Cards akan dimasukkan lewat JavaScript -->
                    </div>
                    <div class="modal fade" id="detailModal" tabindex="-1" aria-labelledby="detailModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg modal-dialog-scrollable">
                            <div class="modal-content">
                                <div class="modal-header bg-primary text-white">
                                    <h5 class="modal-title" id="detailModalLabel">Detail Pengajuan Surat</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                </div>
                                <div class="modal-body" id="modalDetailBody">
                                    <!-- Detail akan ditampilkan di sini -->
                                </div>
                                <div class="modal-footer">
                                    <input type="text" class="form-control me-2" id="reasonField" placeholder="Reason (jika reject)">
                                    <button type="button" class="btn btn-success" id="btnUpload">Approve</button>
                                    <button type="button" class="btn btn-danger" id="btnReject">Reject</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    <!-- /.container-fluid -->
</div>
<!-- End of Main Content -->
<!-- Footer -->
<footer class="sticky-footer bg-white">
    <div class="container my-auto">
        <div class="copyright text-center my-auto">
            <span>Copyright &copy; @DateTime.Now.Year. RT005/RW006</span>
        </div>
    </div>
</footer>
<!-- End of Footer -->
<!-- End of Page Wrapper -->
<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                <a class="btn btn-primary" href="@Url.Action("LogOut", "Login" )">Logout</a>
            </div>
        </div>
    </div>
</div>
<script src="~/Js/GetSurat.js"></script>